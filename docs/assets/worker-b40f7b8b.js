var F=Object.defineProperty;var I=(f,i,e)=>i in f?F(f,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):f[i]=e;var M=(f,i,e)=>(I(f,typeof i!="symbol"?i+"":i,e),e);(function(){"use strict";const i=["E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2","abs","acos","acosh","asin","asinh","atan","atan2","atanh","cbrt","ceil","clz32","cos","cosh","exp","expm1","floor","fround","hypot","imul","log","log10","log1p","log2","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc"].join(", ");onmessage=function(n){const{grid:t,t:o,userCode:a,id:u}=n.data,m=[];try{const l=new Function("x","y","t","i","noise",`"use strict"; const { ${i} } = Math;
      let fn = () => ${a};
      return fn()`);for(let s=0;s<t.length;s++){const E=t[s],{x:c,y:h}=E;let r=0;if(r=l(c,h,o,s,(d,x)=>(_(d/10,x/10)+1)/2),typeof r!="number"){postMessage({id:u,error:"Return value is not a number"});return}r=Math.max(Math.min(r,1),0),m.push(r)}postMessage({id:u,data:m})}catch(l){postMessage({id:u,error:l.message})}};class e{constructor(t,o,a){M(this,"x");M(this,"y");M(this,"z");M(this,"dot2",(t,o)=>this.x*t+this.y*o);M(this,"dot3",(t,o,a)=>this.x*t+this.y*o+this.z*a);this.x=t,this.y=o,this.z=a}}let R=[new e(1,1,0),new e(-1,1,0),new e(1,-1,0),new e(-1,-1,0),new e(1,0,1),new e(-1,0,1),new e(1,0,-1),new e(-1,0,-1),new e(0,1,1),new e(0,-1,1),new e(0,1,-1),new e(0,-1,-1)],P=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],g=new Array(512),w=new Array(512);(function(n){n>0&&n<1&&(n*=65536),n=Math.floor(n),n<256&&(n|=n<<8);for(let t=0;t<256;t++){let o;t&1?o=P[t]^n&255:o=P[t]^n>>8&255,g[t]=g[t+256]=o,w[t]=w[t+256]=R[o%12]}})(0);let U=.5*(Math.sqrt(3)-1),p=(3-Math.sqrt(3))/6;const _=function(n,t){let o,a,u,m=(n+t)*U,l=Math.floor(n+m),s=Math.floor(t+m),E=(l+s)*p,c=n-l+E,h=t-s+E,r,d;c>h?(r=1,d=0):(r=0,d=1);let x=c-r+p,b=h-d+p,z=c-1+2*p,G=h-1+2*p;l&=255,s&=255;let j=w[l+g[s]],q=w[l+r+g[s+d]],v=w[l+1+g[s+1]],y=.5-c*c-h*h;y<0?o=0:(y*=y,o=y*y*j.dot2(c,h));let A=.5-x*x-b*b;A<0?a=0:(A*=A,a=A*A*q.dot2(x,b));let L=.5-z*z-G*G;return L<0?u=0:(L*=L,u=L*L*v.dot2(z,G)),70*(o+a+u)}})();
